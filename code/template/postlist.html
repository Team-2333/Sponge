{# [START form] #} {% extends "header.html"%} {% block content %}

<body>
<!-- Sidebar Widgets Column -->
<div id="postlist"  class="container-fluid">
  <div class="row"> 
    <div class="col-lg-2">
      <!-- Search Widget -->
      <div class="card my-4">
        <h5 class="card-header text-center">Category</h5>
        <div class="card-body">
            <div>
              <button v-if="filter_category_index == 'ALL'" class="btn btn-block btn-primary" v-on:click="set_category('ALL')" > ALL </button>
              <button v-else class="btn btn-block " v-on:click="set_category('ALL')" > ALL </button>
              <button v-if="filter_category_index == 'Beauty'" class="btn btn-block btn-primary" v-on:click="set_category('Beauty')" > Beauty </button>
              <button v-else class="btn btn-block " v-on:click="set_category('Beauty')" > Beauty </button>
              <button v-if="filter_category_index == 'Books'" class="btn btn-block btn-primary" v-on:click="set_category('Books')" > Books </button>
              <button v-else class="btn btn-block" v-on:click="set_category('Books')" > Books </button>
              <button v-if="filter_category_index == 'Electronics'" class="btn btn-block btn-primary" v-on:click="set_category('Electronics')" > Electronics </button>
              <button v-else class="btn btn-block" v-on:click="set_category('Electronics')" > Electronics </button>
              <button v-if="filter_category_index == 'Clothing'" class="btn btn-block btn-primary" v-on:click="set_category('Clothing')" > Clothing </button>
              <button v-else class="btn btn-block" v-on:click="set_category('Clothing')" > Clothing </button>
              <button v-if="filter_category_index == 'Accessories'" class="btn btn-block btn-primary" v-on:click="set_category('Accessories')" > Accessories </button>
              <button v-else class="btn btn-block" v-on:click="set_category('Accessories')" > Accessories </button>
              <button v-if="filter_category_index == 'Kitchen'" class="btn btn-block btn-primary" v-on:click="set_category('Kitchen')" > Kitchen </button>
              <button v-else class="btn btn-block" v-on:click="set_category('Kitchen')" > Kitchen </button>
              <button v-if="filter_category_index == 'Music'" class="btn btn-block btn-primary" v-on:click="set_category('Music')" > Music </button>
              <button v-else class="btn btn-block" v-on:click="set_category('Music')" > Music </button>
              <button v-if="filter_category_index == 'Software'" class="btn btn-block btn-primary" v-on:click="set_category('Software')" > Software </button>
              <button v-else class="btn btn-block" v-on:click="set_category('Software')" > Software </button>
              <button v-if="filter_category_index == 'Outdoor'" class="btn btn-block btn-primary" v-on:click="set_category('Outdoor')" > Outdoor </button>
              <button v-else class="btn btn-block" v-on:click="set_category('Outdoor')" > Outdoor </button>
              <button v-if="filter_category_index == 'Furniture'" class="btn btn-block btn-primary" v-on:click="set_category('Furniture')" > Furniture </button>
              <button v-else class="btn btn-block" v-on:click="set_category('Furniture')" > Furniture </button>
            </div>
        </div>
      </div>
    </div>


    {% raw %}
    <div class="col-lg-10 my-3" style="z-index:9">
      <div id="filter-bar" class="table sticky-top  bg-light mt-2 rounded" style="border: 1px solid #e1e2e5;">
        <div class="row row-bordered">
          <div class="col-sm-8">
            <form class="form-inline my-2">
              <span class="label label-info mx-2" style="width: 50px;">Price</span>
              <select v-model="filter_price_sorting" id="filter-price-sort" class="form-control" id="state" name="price_sort" style="width: 150px;">
                <option value="0">N/A</option>
                <option value="1">low &nbsp;to high</option>
                <option value="2">high to low</option>
              </select>
              <span class="mx-3"></span>
              <label class="control-label" style="width: 50px;">State</label>
                <div style="padding-left: 30px;"></div>
                <select v-model="filter_loc" id="filter-location" class="form-control" id="state" name="state" style="width: 170px;">
                  <option value="0">N/A</option>
                  <option value="AK">Alaska</option>
                  <option value="AL">Alabama</option>
                  <option value="AR">Arkansas</option>
                  <option value="AZ">Arizona</option>
                  <option value="CA">California</option>
                  <option value="CO">Colorado</option>
                  <option value="CT">Connecticut</option>
                  <option value="DC">District of Columbia</option>
                  <option value="DE">Delaware</option>
                  <option value="FL">Florida</option>
                  <option value="GA">Georgia</option>
                  <option value="HI">Hawaii</option>
                  <option value="IA">Iowa</option>
                  <option value="ID">Idaho</option>
                  <option value="IL">Illinois</option>
                  <option value="IN">Indiana</option>
                  <option value="KS">Kansas</option>
                  <option value="KY">Kentucky</option>
                  <option value="LA">Louisiana</option>
                  <option value="MA">Massachusetts</option>
                  <option value="MD">Maryland</option>
                  <option value="ME">Maine</option>
                  <option value="MI">Michigan</option>
                  <option value="MN">Minnesota</option>
                  <option value="MO">Missouri</option>
                  <option value="MS">Mississippi</option>
                  <option value="MT">Montana</option>
                  <option value="NC">North Carolina</option>
                  <option value="ND">North Dakota</option>
                  <option value="NE">Nebraska</option>
                  <option value="NH">New Hampshire</option>
                  <option value="NJ">New Jersey</option>
                  <option value="NM">New Mexico</option>
                  <option value="NV">Nevada</option>
                  <option value="NY">New York</option>
                  <option value="OH">Ohio</option>
                  <option value="OK">Oklahoma</option>
                  <option value="OR">Oregon</option>
                  <option value="PA">Pennsylvania</option>
                  <option value="PR">Puerto Rico</option>
                  <option value="RI">Rhode Island</option>
                  <option value="SC">South Carolina</option>
                  <option value="SD">South Dakota</option>
                  <option value="TN">Tennessee</option>
                  <option value="TX">Texas</option>
                  <option value="UT">Utah</option>
                  <option value="VA">Virginia</option>
                  <option value="VT">Vermont</option>
                  <option value="WA">Washington</option>
                  <option value="WI">Wisconsin</option>
                  <option value="WV">West Virginia</option>
                  <option value="WY">Wyoming</option>
                </select>

          </div>

          <div class="col-sm-4">
            <form class="form-inline">
              <span class="badge badge-pill badge-info float-right my-3 mx-3"> {{filter_len}} items </span>
              <input v-model="filter_search" id="filter-search" class="form-control  float-right  my-2" type="search" placeholder="Search" aria-label="Search" style="width: 180px;">
            </form>
          </div>
        </div>
        <div class="row row-bordered">

          <div class="col-sm-8">
            <form class="form-inline">
              <label class="control-label mx-2  my-2"  style="width: 50px;">Posted</label>
                <select v-model="filter_post_time" id="filter-post-time" class="form-control" id="time" style="width: 150px;">
                  <option value="0">N/A</option>
                  <option value="1">6 hours</option>
                  <option value="2">24 hours</option>
                  <option value="3">7 days</option>
                  <option value="4">1 month</option>
                  <option value="5">3 months</option>
                </select>
            <span class="mx-3  my-2"></span>
              <label class="control-label"  style="width: 80px;">Post Type</label>
                <select v-model="filter_post_type" id="filter-post-type" class="form-control" id="type" style="width: 170px;">
                  <option value="0">Seller</option>
                  <option value="1">Buyer</option>
                </select>
            </form>
          </div>

          <div class="col-sm-4  my-2">
            <button v-on:click="reset_filter"  class="btn btn-primary float-right mx-2">Reset</button>
          </div>
        </div>
      </div>

      <div id="postitem" class="mt-3">
        <div v-if="filter_items === 'null'">
        <h2 class="text-center">Loading, please wait...</h2>
        </div>
        <div v-else v-for="item in filter_items">
          <div class="card mt-2">
            <div class="row">
              <div class="col-6">
                <div>
                  <div class="mx-3 my-2" v-if="item.buyerName" >
                    <h2>
                    <a class="card-title hide_overflow" v-bind:href="'BuyerPost\?postId=' + item.postId">
                      {{item.title}}
                    </a>
                    </h2>
                    <div class="text-left">
                      <span class="badge badge-pill badge-success">Need</span>
                    </div>
                  </div>
                  <div class="mx-3 my-2"  v-else-if="item.sellerName">
                    <h2>
                    <a class="card-title hide_overflow" v-bind:href="'SellerPost\?postId=' + item.postId">
                      {{item.title}}
                    </a>
                    </h2>
                    <div class="text-left" >
                      <span class="badge badge-pill badge-warning">For Sale</span>
                    </div>
                  </div>
                  <p class="card-text hide_overflow mx-3" >
                    <strong> Description : </strong> {{item.description}}
                  </p>
                </div>
              </div>
              <div class="col-3">
                <p class="row text-left my-3">Category : &nbsp
                  <a href="#"> {{item.category}}</a>
                </p> 
                <p v-if="item.location" class="row text-left">Location : &nbsp
                  <a href="#"> {{item.location}}</a>
                </p>
                <p class="row text-left">{{item.time}}</p>
              </div>
              <div class="col-3">
                <h4 class="text-danger">
                  <p v-if="item.price" class="text-right  mx-3 my-3">
                    ${{item.price}}
                  </p>
                  <p v-else class="text-right  mx-3 my-3">
                    Not Specify
                  </p>
                </h4>
                <p v-if="item.buyerName" class="text-right mx-3">
                  <i class="fas fa-user mx-1"></i>
                  <a v-bind:href="'UserInfo\?username=' + item.buyerName"> {{item.buyerName}}</a>
                </p>
                <p v-else-if="item.sellerName" class="text-right mx-3">
                  <i class="fas fa-user mx-1"></i>
                  <a v-bind:href="'UserInfo\?username=' + item.sellerName"> {{item.sellerName}}</a>
                </p>
              </div>
            </div>
          <div class="row">
            <div class="col">
              <p class="card-text">
                <div v-if="item.image" class="product_image2 mx-3 my-1">
                  <a v-if="item.buyerName" v-bind:href="'BuyerPost\?postId=' + item.postId">
                    <img v-bind:src="'data:image/jpeg;base64,'+item.image" />
                  </a>
                  <a v-else-if="item.sellerName" v-bind:href="'SellerPost\?postId=' + item.postId">
                    <img v-bind:src="'data:image/jpeg;base64,'+item.image" />
                  </a>
                  <div v-if="item.favorite === true">
                    <div class="product_buttons_favorite text-center">
                      <button v-if="item.buyerName" v-on:click="deleteFavorite('Buyer', item.postId)" class="product_heart_favorite"><i style="width:13px;height:16px" class="fa fa-heart"></i></button>
                      <button v-else-if="item.sellerName" v-on:click="deleteFavorite('Seller', item.postId)" class="product_heart_favorite"><i style="width:13px;height:16px" class="fa fa-heart"></i></button>
                    </div>
                  </div>
                  <div v-else>
                    <div class="product_buttons text-center">
                      <button v-if="item.buyerName" v-on:click="addFavorite('Buyer', item.postId)" class="product_heart"><i  style="width:13px;height:16px" class="fa fa-heart"></i></button>
                      <button v-else-if="item.sellerName" v-on:click="addFavorite('Seller', item.postId)" class="product_heart"><i  style="width:13px;height:16px" class="fa fa-heart"></i></button>
                    </div>
                  </div>
                </div>
              </div>
              </p>
            </div>
          </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

</div>
  <div id="toTop">
    <backtotop></backtotop>
  </div>
</div>
</body>
{%endraw%}  

<script type="text/x-template" id="backtotop">
  <button class="goTop" v-if="isVisible" @click="backToTop">
    <i class="fa fa-angle-up" aria-hidden="true"></i>
  </button>
</script>
<script src="{{ url_for('static', filename='postlist.js')}}"></script>
{% endblock %} {# [END form] #}