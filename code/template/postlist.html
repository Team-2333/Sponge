{# [START form] #} {% extends "header.html"%} {% block content %}

<body>
<!-- Sidebar Widgets Column -->
<div class="container-fluid">
  <div class="row"> 
    <div class="col-lg-2">
      <!-- Search Widget -->
      <div class="card my-4">
        <h5 class="card-header">category</h5>
        <div class="card-body">
          {% for category in categories %}
            <!--<a href="/postlist/{{category}}"> {{category}} </a>-->
            <div>
              <a href="/postlist"> {{category}} </a>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>


    {% raw %}
    <div id="postlist" class="col-lg-10 my-3" style="z-index:9">
      <div id="filter-bar" class="table sticky-top  bg-light mt-2 ">
        <div class="row row-bordered">
          <div class="col-sm-7">
            <form class="form-inline my-2">
              <span class="label label-info mx-2">Price : </span>
              <select v-model="filter_price_sorting" id="filter-price-sort" class="form-control mx-2" id="state" name="price_sort" style="width: 100px;">
                <option value="0">N/A</option>
                <option value="1">low &nbsp;to high</option>
                <option value="2">high to low</option>
              </select>

              <label class="control-label mx-2">State : </label>
                <select v-model="filter_loc" id="filter-location" class="form-control" id="state" name="state" style="width: 100px;">
                  <option value="0">N/A</option>
                  <option value="AK">Alaska</option>
                  <option value="AL">Alabama</option>
                  <option value="AR">Arkansas</option>
                  <option value="AZ">Arizona</option>
                  <option value="CA">California</option>
                  <option value="CO">Colorado</option>
                  <option value="CT">Connecticut</option>
                  <option value="DC">District of Columbia</option>
                  <option value="DE">Delaware</option>
                  <option value="FL">Florida</option>
                  <option value="GA">Georgia</option>
                  <option value="HI">Hawaii</option>
                  <option value="IA">Iowa</option>
                  <option value="ID">Idaho</option>
                  <option value="IL">Illinois</option>
                  <option value="IN">Indiana</option>
                  <option value="KS">Kansas</option>
                  <option value="KY">Kentucky</option>
                  <option value="LA">Louisiana</option>
                  <option value="MA">Massachusetts</option>
                  <option value="MD">Maryland</option>
                  <option value="ME">Maine</option>
                  <option value="MI">Michigan</option>
                  <option value="MN">Minnesota</option>
                  <option value="MO">Missouri</option>
                  <option value="MS">Mississippi</option>
                  <option value="MT">Montana</option>
                  <option value="NC">North Carolina</option>
                  <option value="ND">North Dakota</option>
                  <option value="NE">Nebraska</option>
                  <option value="NH">New Hampshire</option>
                  <option value="NJ">New Jersey</option>
                  <option value="NM">New Mexico</option>
                  <option value="NV">Nevada</option>
                  <option value="NY">New York</option>
                  <option value="OH">Ohio</option>
                  <option value="OK">Oklahoma</option>
                  <option value="OR">Oregon</option>
                  <option value="PA">Pennsylvania</option>
                  <option value="PR">Puerto Rico</option>
                  <option value="RI">Rhode Island</option>
                  <option value="SC">South Carolina</option>
                  <option value="SD">South Dakota</option>
                  <option value="TN">Tennessee</option>
                  <option value="TX">Texas</option>
                  <option value="UT">Utah</option>
                  <option value="VA">Virginia</option>
                  <option value="VT">Vermont</option>
                  <option value="WA">Washington</option>
                  <option value="WI">Wisconsin</option>
                  <option value="WV">West Virginia</option>
                  <option value="WY">Wyoming</option>
                </select>

              <label class="control-label mx-2">Posted : </label>
                <select v-model="filter_post_time" id="filter-post-time" class="form-control" id="time" style="width: 100px;">
                  <option value="0">N/A</option>
                  <option value="1">6 hours</option>
                  <option value="2">24 hours</option>
                  <option value="3">7 days</option>
                  <option value="4">1 month</option>
                  <option value="5">3 months</option>
                </select>
              </form>
          </div>

          <div class="col-sm-3">
            <form class="form-inline my-2 float-right">
              <input v-model="filter_search" id="filter-search" class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" style="width: 110px;">
              <span class="badge badge-pill badge-info"> {{filter_len}} items </span>
              <!--<a href="#"><i class="fas fa-lg fa-search"></i></a>-->
            </form>
          </div>

          <div class="col-sm-2">
            <form class="form-inline my-2 float-right mx-2">
              <button v-on:click="reset_filter" id="filter-reset" class="btn btn-primary float-right" type="submit">Reset</button>
              <label mx-2></label>
            </form>
          </div>
        </div>
      </div>

      <div id="postitem" class="mt-3">
        <div v-for="item in filter_items">
          <div class="card mt-2">
            <div class="row">
              <div class="col-6">
                <div>
                  <h2 class="mx-3 my-2">
                    <a class="card-title hide_overflow" v-if="item.buyerName" v-bind:href="'BuyerPost\?postId=' + item.postId">
                      {{item.title}}
                    </a>
                    <a class="card-title hide_overflow" v-else-if="item.sellerName" v-bind:href="'SellerPost\?postId=' + item.postId">
                      {{item.title}}
                    </a>
                  </h2>
                  <p class="card-text hide_overflow mx-3" >
                    {{item.description}}
                  </p>
                </div>
              </div>
              <div class="col-3">
                <p class="row text-left my-3">Category : &nbsp
                  <!--<a v-bind:href="'/postlist/' + item.category"> {{item.category}}</a>-->
                  <a href="#"> {{item.category}}</a>
                </p> 
                <p v-if="item.location" class="row text-left">Location : {{item.location}} </p> 
                <p class="row text-left">{{item.time}}</p>
              </div>
              <div class="col-3">
                <h4 class="text-danger">
                  <p v-if="item.price" class="text-right  mx-3 my-3">
                    ${{item.price}}
                  </p>
                  <p v-else class="text-right  mx-3 my-3">
                    Not Specify
                  </p>
                </h4>
                <p v-if="item.buyerName" class="text-right mx-3">
                  <i class="fas fa-user mx-1"></i>
                  <!--<a v-bind:href="'/postlist/' + item.buyerName"> {{item.buyerName}}</a>-->
                  <a href="#"> {{item.buyerName}}</a>
                </p>
                <p v-else-if="item.sellerName" class="text-right mx-3">
                  <i class="fas fa-user mx-1"></i>
                  <!--<a v-bind:href="'/postlist/' + item.sellerName"> {{item.sellerName}}</a>-->
                  <a href="#"> {{item.sellerName}}</a>
                </p>
              </div>
            </div>
          <div class="row">
            <div class="col">
              <p class="card-text">
                <div v-if="item.image" class="product_image2 mx-3 my-1">
                  <a v-if="item.buyerName" v-bind:href="'BuyerPost\?postId=' + item.postId">
                    <img v-bind:src="'data:image/jpeg;base64,'+item.image" />
                  </a>
                  <a v-else-if="item.sellerName" v-bind:href="'SellerPost\?postId=' + item.postId">
                    <img v-bind:src="'data:image/jpeg;base64,'+item.image" />
                  </a>
                  <div v-if="item.favorite === true">
                    <div class="product_buttons_favorite text-center">
                      <button v-if="item.buyerName" v-on:click="deleteFavorite('Buyer', item.postId)" class="product_heart_favorite"><i class="fa fa-heart"></i></button>
                      <button v-else-if="item.sellerName" v-on:click="deleteFavorite('Seller', item.postId)" class="product_heart_favorite"><i class="fa fa-heart"></i></button>
                    </div>
                  </div>
                  <div v-else>
                    <div class="product_buttons text-center">
                      <button v-if="item.buyerName" v-on:click="addFavorite('Buyer', item.postId)" class="product_heart"><i class="fa fa-heart"></i></button>
                      <button v-else-if="item.sellerName" v-on:click="addFavorite('Seller', item.postId)" class="product_heart"><i class="fa fa-heart"></i></button>
                    </div>
                  </div>
                </div>
              </div>
              </p>
            </div>
          </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

</div>
  <div id="toTop">
    <backtotop></backtotop>
  </div>
</div>
</body>
{%endraw%}  

<script type="text/x-template" id="backtotop">
  <button class="goTop" v-if="isVisible" @click="backToTop">
    <i class="fa fa-angle-up" aria-hidden="true"></i>
  </button>
</script>
<script src="{{ url_for('static', filename='postlist.js')}}"></script>
{% endblock %} {# [END form] #}